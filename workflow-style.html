
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Workflow: Style &#8212; Python for Data Science</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tidy Data" href="data-tidy.html" />
    <link rel="prev" title="Data Transformation" href="data-transform.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Python for Data Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="welcome.html">
   Welcome
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction.html">
   Getting Started with Python
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="data-visualise.html">
   Data Visualisation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="workflow-basics.html">
   Workflow: Basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data-transform.html">
   Data Transformation
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Workflow: Style
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data-tidy.html">
   Tidy Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="workflow-writing-code.html">
   Workflow: Writing Code
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data-import.html">
   Data Import
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="workflow-help.html">
   Workflow: Getting Help
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="exploratory-data-analysis.html">
   Exploratory Data Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="workflow-packages-and-environments.html">
   Packages and Environments
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Data Types
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="joins.html">
   Joins
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="boolean-data.html">
   Boolean Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="numbers.html">
   Numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="strings.html">
   Strings and Text
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="regex.html">
   Regular Expressions, aka regex
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="categorical-data.html">
   Categorical Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dates-and-times.html">
   Dates and Times
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="missing-values.html">
   Missing Values
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Transforming Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="spreadsheets.html">
   Spreadsheets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="webscraping-and-apis.html">
   Webscraping and APIs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rectangling.html">
   Rectangling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="databases.html">
   Databases
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Programming
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="functions.html">
   Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="iteration.html">
   Iteration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="command-line.html">
   The Command Line
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Communicating
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="markdown.html">
   Markdown
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="quarto.html">
   Quarto
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="communicate-plots.html">
   Graphics for Communication
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendix
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="zreferences.html">
   Bibliography
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/workflow-style.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/aeturrell/python4DS"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/aeturrell/python4DS/issues/new?title=Issue%20on%20page%20%2Fworkflow-style.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/aeturrell/python4DS/main?urlpath=lab/tree/workflow-style.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/aeturrell/python4DS/blob/main/workflow-style.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#names">
   Names
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#whitespace">
   Whitespace
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#code-comments">
   Code Comments
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#line-width-and-line-continuation">
   Line width and line continuation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#principles-of-clean-code">
   Principles of Clean Code
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#do-not-repeat-yourself-dry">
     Do not repeat yourself (DRY)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kiss-keep-it-simple-stupid">
     KISS (Keep It Simple, Stupid)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#soc-separation-of-concerns-make-it-modular">
     SoC (Separation of Concerns) / Make it Modular
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Workflow: Style</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#names">
   Names
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#whitespace">
   Whitespace
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#code-comments">
   Code Comments
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#line-width-and-line-continuation">
   Line width and line continuation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#principles-of-clean-code">
   Principles of Clean Code
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#do-not-repeat-yourself-dry">
     Do not repeat yourself (DRY)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kiss-keep-it-simple-stupid">
     KISS (Keep It Simple, Stupid)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#soc-separation-of-concerns-make-it-modular">
     SoC (Separation of Concerns) / Make it Modular
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="workflow-style">
<span id="id1"></span><h1>Workflow: Style<a class="headerlink" href="#workflow-style" title="Permalink to this headline">¶</a></h1>
<p>Good coding style is like correct punctuation: you can manage without it, butitsuremakesthingseasiertoread. Even as a very new programmer it’s a good idea to work on your code style. Use a consistent style makes it easier for others (including future-you!) to read your work, and is particularly important if you need to get help from someone else.</p>
<p>This chapter will introduce you to some important style points drawn from <a class="reference external" href="https://testdriven.io/blog/clean-code-python/">Clean Code in Python</a>, <a class="reference external" href="https://aeturrell.github.io/coding-for-economists/code-best-practice.html">Tips for Better Coding</a> from <em>Coding for Economists</em>, the UK Government Statistical Service’s <a class="reference external" href="https://best-practice-and-impact.github.io/qa-of-code-guidance/intro.html">Quality Assurance of Code for Analysis and Research</a> guidance, and the bible of Python style guides, <a class="reference external" href="https://peps.python.org/pep-0008/">PEP 8 — Style Guide for Python Code</a>.</p>
<p>Styling your code will feel a bit tedious to start with, but if you practice it, it will soon become second nature. Additionally, there are some great tools to quickly restyle existing code, like the <a class="reference external" href="https://black.readthedocs.io/">Black</a> Python package (“you can have any colour you like, as long as it’s black”).</p>
<p>Once you’ve installed Black by running <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">black</span></code>, you can use it on the command line (aka the terminal) within Visual Studio Code. Open up a terminal by clicking ‘Terminal -&gt; New Terminal’ and then run <code class="docutils literal notranslate"><span class="pre">black</span> <span class="pre">*.py</span></code> to apply a standard code style to all Python scripts.</p>
<div class="section" id="names">
<h2>Names<a class="headerlink" href="#names" title="Permalink to this headline">¶</a></h2>
<p>First, names matter. Use meaningful names for variables, functions, or whatever it is you’re naming. Avoid abbreviations that you understand <em>now</em> but which will be unclear to others, or future you. For example, use <code class="docutils literal notranslate"><span class="pre">real_wage_hourly</span></code> over <code class="docutils literal notranslate"><span class="pre">re_wg_ph</span></code>. I know it’s tempting to use <code class="docutils literal notranslate"><span class="pre">temp</span></code> but you’ll feel silly later when you can’t for the life of you remember what <code class="docutils literal notranslate"><span class="pre">temp</span></code> does or is. A good trick when naming booleans (variables that are either true or false) is to use <code class="docutils literal notranslate"><span class="pre">is</span></code> followed by what the boolean variable refers to, for example <code class="docutils literal notranslate"><span class="pre">is_married</span></code>.</p>
<p>As well as this general tip, Python has conventions on naming different kinds of variables. The naming convention for almost all objects is lower case separated by underscores, e.g. <code class="docutils literal notranslate"><span class="pre">a_variable=10</span></code> or ‘this_is_a_script.py’. This style of naming is also known as snake case. There are different naming conventions though—<a class="reference external" href="https://twitter.com/allison_horst">Allison Horst</a> made this fantastic cartoon of the different conventions that are in use.</p>
<p><img alt="Different naming conventions. Artwork by &#64;allison_horst." src="https://github.com/aeturrell/coding-for-economists/raw/main/img/in_that_case.jpg" /> Different naming conventions. Artwork by &#64;allison_horst.</p>
<p>There are three exceptions to the snake case convention: classes, which should be in camel case, eg <code class="docutils literal notranslate"><span class="pre">ThisIsAClass</span></code>; constants, which are in capital snake case, eg <code class="docutils literal notranslate"><span class="pre">THIS_IS_A_CONSTANT</span></code>; and packages, which are typically without spaces or underscores and are lowercase <code class="docutils literal notranslate"><span class="pre">thisisapackage</span></code>.</p>
<p>For some quick shortcuts to re-naming columns in <strong>pandas</strong> dataframes or other string variables, try the unicode-friendly <a class="reference external" href="https://github.com/un33k/python-slugify"><strong>slugify</strong></a> library or the <code class="docutils literal notranslate"><span class="pre">clean_headers</span></code> function from the <a class="reference external" href="https://docs.dataprep.ai/index.html"><strong>dataprep</strong></a> library.</p>
<p>The better named your variables, the clearer your code will be–and the fewer comments you will need to write!</p>
<p>In summary:</p>
<ul>
<li><p>use descriptive variable names that reveal your intention, eg <code class="docutils literal notranslate"><span class="pre">days_since_treatment</span></code></p></li>
<li><p>avoid using ambiguous abbreviations in names, eg use <code class="docutils literal notranslate"><span class="pre">real_wage_hourly</span></code> over <code class="docutils literal notranslate"><span class="pre">rw_ph</span></code></p></li>
<li><p>always use the same vocabulary, eg don’t switch from <code class="docutils literal notranslate"><span class="pre">worker_type</span></code> to <code class="docutils literal notranslate"><span class="pre">employee_type</span></code></p></li>
<li><p>avoid ‘magic numbers’, eg numbers in your code that set a key parameter. Set these as named constants instead. Here’s an example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>  <span class="kn">import</span> <span class="nn">random</span>

  <span class="c1"># This is bad</span>
  <span class="k">def</span> <span class="nf">roll</span><span class="p">():</span>
      <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">36</span><span class="p">)</span>  <span class="c1"># magic number!</span>

  <span class="c1"># This is good</span>
  <span class="n">MAX_INT_VALUE</span> <span class="o">=</span> <span class="mi">36</span>

  <span class="k">def</span> <span class="nf">roll</span><span class="p">():</span>
      <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">MAX_INT_VALUE</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>use verbs for function names, eg <code class="docutils literal notranslate"><span class="pre">get_regression</span></code></p></li>
<li><p>use consistent verbs for function names, don’t use <code class="docutils literal notranslate"><span class="pre">get_score</span></code> and <code class="docutils literal notranslate"><span class="pre">grab_results</span></code> (instead use <code class="docutils literal notranslate"><span class="pre">get</span></code> for both)</p></li>
<li><p>variable names should be snake_case and all lowercase, eg <code class="docutils literal notranslate"><span class="pre">first_name</span></code></p></li>
<li><p>class names should be CamelCase, eg <code class="docutils literal notranslate"><span class="pre">MyClass</span></code>
function names should be snake_case and all lowercase, eg <code class="docutils literal notranslate"><span class="pre">quick_sort()</span></code></p></li>
<li><p>constants should be snake_case and all uppercase, eg <code class="docutils literal notranslate"><span class="pre">PI</span> <span class="pre">=</span> <span class="pre">3.14159</span></code></p></li>
<li><p>modules should have short, snake_case names and all lowercase, eg <code class="docutils literal notranslate"><span class="pre">pandas</span></code></p></li>
<li><p>single quotes and double quotes are equivalent so pick one and be consistent—most automatic formatters prefer <code class="docutils literal notranslate"><span class="pre">&quot;</span></code></p></li>
</ul>
</div>
<div class="section" id="whitespace">
<h2>Whitespace<a class="headerlink" href="#whitespace" title="Permalink to this headline">¶</a></h2>
<p>Surrounding bits of code with whitespace can significantly enhance readability. One such convention is that functions should have two blank lines following their last line. Another is that assignments are separated by spaces</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">this_is_a_var</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
<p>Another convention is that a space appears after a <code class="docutils literal notranslate"><span class="pre">,</span></code>, for example in the definition of a list we would have</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">list_var</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p>rather than</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">list_var</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="c1"># or</span>
<span class="n">list_var</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">3</span> <span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="code-comments">
<h2>Code Comments<a class="headerlink" href="#code-comments" title="Permalink to this headline">¶</a></h2>
<p>As mentioned previously, Python will ignore any text after <code class="docutils literal notranslate"><span class="pre">#</span></code>. This allows to you to write <strong>comments</strong>, text that is ignored by Python but can be read by other humans. Comments can be helpful for briefly describing what the subsequent code does: use them to provide extra contextual information that <em>isn’t</em> conveyed by function and variable names.</p>
<p>Actually, well-written code needs <em>fewer</em> comments because it’s more evidence what’s going on. And it’s tempting not to update comments even when code changes. So do comment, but see if you can make the code tell its own story first.</p>
<p>Also, avoid “noise” comments that tell you what you already know from just looking at the code.</p>
<p><img alt="Picture of a cat wearing a label that says cat" src="https://i.postimg.cc/t4SV5NQg/catto.png" /></p>
<p>Finally, functions come with their own special type of comments called a doc string. Here’s an example that tells us all about the functions inputs and outputs, including the type of input and output (here a dataframe, also known as <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">round_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rounds numeric columns in dataframe to 2 s.f.</span>
<span class="sd">    Args:</span>
<span class="sd">        df (pd.DataFrame): Input dataframe</span>
<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: Dataframe with numbers rounded to 2 s.f.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="s2">&quot;number&quot;</span><span class="p">):</span>
        <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">.2g</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="si">:</span><span class="s1">g</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
</div>
<div class="section" id="line-width-and-line-continuation">
<h2>Line width and line continuation<a class="headerlink" href="#line-width-and-line-continuation" title="Permalink to this headline">¶</a></h2>
<p>For quite arbitrary historical reasons, PEP8 also suggests 79 characters for each line of code. Some find this too restrictive, especially with the advent of wider monitors. But it is good to split up very long lines. Anything that is contained in parenthesis can be split into multiple lines like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">input_one</span><span class="p">,</span> <span class="n">input_two</span><span class="p">,</span>
             <span class="n">input_three</span><span class="p">,</span> <span class="n">input_four</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">input_one</span><span class="p">,</span>
              <span class="o">+</span> <span class="n">input_two</span><span class="p">,</span>
              <span class="o">+</span> <span class="n">input_three</span><span class="p">,</span>
              <span class="o">+</span> <span class="n">input_four</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
<div class="section" id="principles-of-clean-code">
<h2>Principles of Clean Code<a class="headerlink" href="#principles-of-clean-code" title="Permalink to this headline">¶</a></h2>
<p>While automation can help apply style, it can’t help you write <em>clean code</em>. Clean code is a set of rules and principles that helps to keep your code readable, maintainable, and extendable. Writing code is easy; writing clean code is hard! However, if you follow these principles, you won’t go far wong.</p>
<div class="section" id="do-not-repeat-yourself-dry">
<h3>Do not repeat yourself (DRY)<a class="headerlink" href="#do-not-repeat-yourself-dry" title="Permalink to this headline">¶</a></h3>
<p>The DRY principle is ‘Every piece of knowledge or logic must have a single, unambiguous representation within a system.’ Divide your code into re-usable pieces that you can call when and where you want. Don’t write lengthy methods, but divide logic up into clearly differentiated chunks.</p>
<p>This saves having to repeat code, having no idea whether it’s this or that version of the same function doing the work, and will help your debugging efforts no end.</p>
<p>Some practical ways to apply DRY in practice are to use functions, to put functions or code that needs to be executed multiple times by multiple different scripts into another script (eg called <code class="docutils literal notranslate"><span class="pre">utilities.py</span></code>) and then import it, and to think carefully if another way of writing your code would be more concise (yet still readable).</p>
<div class="tip admonition">
<p class="admonition-title">Tip</p>
<p>If you’re using Visual Studio Code, you can <a class="reference external" href="https://code.visualstudio.com/docs/editor/refactoring">automatically send code into a function</a> by right-clicking on code and using the ‘Extract to method’ option.</p>
</div>
</div>
<div class="section" id="kiss-keep-it-simple-stupid">
<h3>KISS (Keep It Simple, Stupid)<a class="headerlink" href="#kiss-keep-it-simple-stupid" title="Permalink to this headline">¶</a></h3>
<p>Most systems work best if they are kept simple, rather than made complicated. This is a rule that says you should avoid unnecessary complexity. If your code is complex, it will only make it harder for you to understand what you did when you come back to it later.</p>
</div>
<div class="section" id="soc-separation-of-concerns-make-it-modular">
<h3>SoC (Separation of Concerns) / Make it Modular<a class="headerlink" href="#soc-separation-of-concerns-make-it-modular" title="Permalink to this headline">¶</a></h3>
<p>Do not have a single file that does everything. If you split your code into separate, independent modules it will be easier to read, debug, test, and use. You can check the basics of coding chapter to see how to create and import functions from other scripts. But even within a script, you can still make your code modular by defining functions that have clear inputs and outputs.</p>
<p>A good rule of thumb is that if a code that achieves one end goes longer than about 30 lines, it should probably go into a function. Scripts longer than about 500 lines are ripe for splitting up too.</p>
<p>Relatedly, do not have a single function that tries to do everything. Functions should have limits too; they should do approximately one thing. If you’re naming a function and you have to use ‘and’ in the name then it’s probably worth splitting it into two functions.</p>
<p>Functions should have no ‘side effects’ either; that is, they shouldn’t only take in value(s), and output value(s) via a return statement. They shouldn’t modify global variables or make other changes.</p>
<p>Another good rule of thumb is that each function shouldn’t have lots of separate arguments.</p>
<p>A final tip for modularity and the creation of functions is that you shouldn’t use ‘flags’ in functions (aka boolean conditions). Here’s an example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is bad</span>
<span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">uppercase</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">uppercase</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># This is good</span>
<span class="k">def</span> <span class="nf">uppercase</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">lowercase</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="data-transform.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Data Transformation</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="data-tidy.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tidy Data</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By The Py4DS Community<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>