
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>8. Data Import &#8212; Python for Data Science</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="9. Postscript: Getting Further Help" href="workflow-help.html" />
    <link rel="prev" title="7. Workflow: Writing Code" href="workflow-writing-code.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Python for Data Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="welcome.html">
   Welcome
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction.html">
   First Steps
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="whole-game.html">
   1. Whole game
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data-visualise.html">
   2. Data Visualisation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="workflow-basics.html">
   3. Workflow: Basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data-transform.html">
   4. Data Transformation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="workflow-style.html">
   5. Workflow: Style
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data-tidy.html">
   6. Tidy Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="workflow-writing-code.html">
   7. Workflow: Writing Code
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   8. Data Import
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="workflow-help.html">
   9. Postscript: Getting Further Help
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Visualise
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="exploratory-data-analysis.html">
   10. Exploratory Data Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="communicate-plots.html">
   11. Graphics for Communication
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Transform
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="joins.html">
   12. Joins
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="boolean-data.html">
   13. Boolean Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="numbers.html">
   14. Numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="strings.html">
   15. Strings and Text
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="regex.html">
   16. Regular Expressions, aka regex
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="categorical-data.html">
   17. Categorical Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dates-and-times.html">
   18. Dates and Times
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="missing-values.html">
   19. Missing Values
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Import
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="spreadsheets.html">
   20. Spreadsheets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="webscraping-and-apis.html">
   21. Webscraping and APIs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rectangling.html">
   22. Rectangling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="databases.html">
   23. Databases
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Programme
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="functions.html">
   24. Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="iteration.html">
   25. Iteration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="command-line.html">
   26. The Command Line
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Communicate
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="markdown.html">
   27. Markdown
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="quarto.html">
   28. Quarto
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendix
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="zreferences.html">
   Bibliography
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/data-import.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/aeturrell/python4DS"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/aeturrell/python4DS/issues/new?title=Issue%20on%20page%20%2Fdata-import.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/aeturrell/python4DS/main?urlpath=lab/tree/data-import.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/aeturrell/python4DS/blob/main/data-import.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   8.1. Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prerequisites">
     8.1.1. Prerequisites
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#getting-started">
   8.2. Getting Started
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-data-from-a-file">
     8.2.1. Reading data from a file
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#first-steps">
     8.2.2. First Steps
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercises">
     8.2.3. Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reading-data-from-multiple-files">
   8.3. Reading data from multiple files
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#writing-to-a-file">
   8.4. Writing to a file
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-and-writing-other-data-formats">
     8.4.1. Reading and Writing Other Data Formats
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Data Import</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   8.1. Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prerequisites">
     8.1.1. Prerequisites
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#getting-started">
   8.2. Getting Started
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-data-from-a-file">
     8.2.1. Reading data from a file
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#first-steps">
     8.2.2. First Steps
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercises">
     8.2.3. Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reading-data-from-multiple-files">
   8.3. Reading data from multiple files
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#writing-to-a-file">
   8.4. Writing to a file
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-and-writing-other-data-formats">
     8.4.1. Reading and Writing Other Data Formats
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="data-import">
<span id="id1"></span><h1><span class="section-number">8. </span>Data Import<a class="headerlink" href="#data-import" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2><span class="section-number">8.1. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In this chapter, we’re going to introduce working with your own data. Here, you’ll learn how to read plain-text rectangular files into Python. We’ll only scratch the surface of data import, but many of the principles will translate to other forms of data. We’ll finish with a few pointers to opening other types of data.</p>
<div class="section" id="prerequisites">
<h3><span class="section-number">8.1.1. </span>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>You will need to have the <strong>pandas</strong> package installed. You’ll need to ensure you have <strong>pandas</strong> installed. To do this, and to import <strong>pandas</strong> into your session, run</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<p>If this command fails, you don’t have <strong>pandas</strong> installed. Open up the terminal in Visual Studio Code (Terminal -&gt; New Terminal) and type in <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">pandas</span></code>. Note that once <strong>pandas</strong> is installed, the convention is to import it into your Python session under the name <code class="docutils literal notranslate"><span class="pre">pd</span></code> by putting <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pandas</span> <span class="pre">as</span> <span class="pre">pd</span></code> at the top of your script.</p>
</div>
</div>
<div class="section" id="getting-started">
<h2><span class="section-number">8.2. </span>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>There are a huge range of input and output formats available in <strong>pandas</strong>: Stata (.dta), Excel (.xls, .xlsx), csv, tsv, big data formats (HDF5, parquet), JSON, SAS, SPSS, SQL, and more; there’s a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html">full list</a> of formats available in the documentation.</p>
<p><img alt="From the pandas documentation" src="https://pandas.pydata.org/pandas-docs/stable/_images/02_io_readwrite.svg" /></p>
<p>While <strong>pandas</strong> has a huge number of ways to read data in and load it into your Python session, here we’ll focus on the humble plain-text table file; for example csv (comma separated values) and tsv (tab separated values).</p>
<div class="section" id="reading-data-from-a-file">
<h3><span class="section-number">8.2.1. </span>Reading data from a file<a class="headerlink" href="#reading-data-from-a-file" title="Permalink to this headline">¶</a></h3>
<p>All of the power needed to open plain-text table files is contained in a single function, <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code>. It takes numerous arguments but the two most important are the (unnamed) first one, which gives the path to the data, and <code class="docutils literal notranslate"><span class="pre">sep=</span></code> (a keyword argument) that tells <strong>pandas</strong> whether to expect values to be separated by commas or tabs or another character; however, if you leave this field blank, <strong>pandas</strong> will guess for you. To see the full set of arguments, run <code class="docutils literal notranslate"><span class="pre">help(pd.read_csv)</span></code>.</p>
<p>Here is what a simple CSV file with a row for column names (also commonly referred to as the header row) and six rows of data looks like (using the terminal):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span> cat data/students.csv
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Student ID,Full Name,favourite.food,mealPlan,AGE

1,Sunil Huffmann,Strawberry yoghurt,Lunch only,4

2,Barclay Lynn,French fries,Lunch only,5

3,Jayendra Lyne,N/A,Breakfast and lunch,7

4,Leon Rossini,Anchovies,Lunch only,8

5,Chidiegwu Dunkel,Pizza,Breakfast and lunch,five

6,Güvenç Attila,Ice cream,Lunch only,6
</pre></div>
</div>
</div>
</div>
<p>Note that this is a CSV file, so the values are separated by commas. Now let’s load this into a <strong>pandas</strong> dataframe in Python:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/students.csv&quot;</span><span class="p">)</span>
<span class="n">students</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Student ID</th>
      <th>Full Name</th>
      <th>favourite.food</th>
      <th>mealPlan</th>
      <th>AGE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Sunil Huffmann</td>
      <td>Strawberry yoghurt</td>
      <td>Lunch only</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Barclay Lynn</td>
      <td>French fries</td>
      <td>Lunch only</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Jayendra Lyne</td>
      <td>NaN</td>
      <td>Breakfast and lunch</td>
      <td>7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Leon Rossini</td>
      <td>Anchovies</td>
      <td>Lunch only</td>
      <td>8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Chidiegwu Dunkel</td>
      <td>Pizza</td>
      <td>Breakfast and lunch</td>
      <td>five</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>Güvenç Attila</td>
      <td>Ice cream</td>
      <td>Lunch only</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If you want to download this data to try it for yourself, head to <a class="reference external" href="https://github.com/aeturrell/python4DS/blob/main/data/students.csv">this link</a> and then right-click on ‘Raw’ and select “Save Link As…”. Save the data in a directory called ‘data’ with the name ‘students.csv’. This directory should sit within your active Visual Studio Code folder. You can check which folder you’re currently in by running the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># get current working directory (cwd)</span>
<span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>

</pre></div>
</div>
<p>Say this comes back with ‘python4DS’, then your downloaded data should be in ‘python4DS/data/students.csv’.</p>
<p>The first argument to <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> was the path to the data, and <strong>pandas</strong> guessed that this file uses commas as the separator.</p>
<p>The read CSV function automatically creates a new <em>index</em> (which is just the position of each row) and takes the top line of data as the <em>header</em> or <em>column names</em>. But you may wish to tweak this behaviour, in several ways.</p>
<ol class="simple">
<li><p>Sometimes there are a few lines of metadata at the top of the file. You can use <code class="docutils literal notranslate"><span class="pre">skiprows=n</span></code> to skip the first <code class="docutils literal notranslate"><span class="pre">n</span></code> lines, eg <code class="docutils literal notranslate"><span class="pre">pd.read_csv(&quot;data/students.csv&quot;,</span> <span class="pre">skiprows=2)</span></code>.</p></li>
<li><p>The data might not have column names. You can use <code class="docutils literal notranslate"><span class="pre">names</span> <span class="pre">=</span> </code> a list to tell <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> to use a different option for the column names. For example, <code class="docutils literal notranslate"><span class="pre">pd.read_csv(&quot;data/students.csv&quot;,</span> <span class="pre">names=range(5))</span></code> would put the numbers 0 to 4 in as the column names.</p></li>
<li><p>You may wish to change which column is used as the index. The default behaviour is to create an index, but for this data we see that there already is an ID column we could use. To do this, use the <code class="docutils literal notranslate"><span class="pre">index_col=</span></code> argument, for example <code class="docutils literal notranslate"><span class="pre">pd.read_csv(&quot;data/students.csv&quot;,</span> <span class="pre">index_col=0)</span></code>.</p></li>
</ol>
<p>This is all you need to know to read ~75% of CSV files that you’ll encounter in practice. Reading tab separated files and fixed width files is done with the same function.</p>
</div>
<div class="section" id="first-steps">
<h3><span class="section-number">8.2.2. </span>First Steps<a class="headerlink" href="#first-steps" title="Permalink to this headline">¶</a></h3>
<p>Let’s take another look at the <code class="docutils literal notranslate"><span class="pre">students</span></code> data.</p>
<p>Once you read data in, the first step usually involves transforming it in some way to make it easier to work with in the rest of your analysis. For example, the column names in the <code class="docutils literal notranslate"><span class="pre">students</span></code> file we read in are formatted in non-standard ways.</p>
<p>You might consider renaming them one by one with <code class="docutils literal notranslate"><span class="pre">.rename</span></code> or you might use a convenience function from another package to clean them and turn them all into snake case at once. We will make use of the <strong>skimpy</strong> package to do this. <strong>skimpy</strong> is a smaller package so isn’t available to install via conda; instead, install it by running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">skimpy</span></code> in the terminal.</p>
<p>From <strong>skimpy</strong>, we will use the <code class="docutils literal notranslate"><span class="pre">clean_columns</span></code> function; this takes in a data frame and returns a data frame with variable names converted to snake case.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">skimpy</span> <span class="kn">import</span> <span class="n">clean_columns</span>

<span class="n">students</span> <span class="o">=</span> <span class="n">clean_columns</span><span class="p">(</span><span class="n">students</span><span class="p">)</span>
<span class="n">students</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>student_id</th>
      <th>full_name</th>
      <th>favourite_food</th>
      <th>meal_plan</th>
      <th>age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Sunil Huffmann</td>
      <td>Strawberry yoghurt</td>
      <td>Lunch only</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Barclay Lynn</td>
      <td>French fries</td>
      <td>Lunch only</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Jayendra Lyne</td>
      <td>NaN</td>
      <td>Breakfast and lunch</td>
      <td>7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Leon Rossini</td>
      <td>Anchovies</td>
      <td>Lunch only</td>
      <td>8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Chidiegwu Dunkel</td>
      <td>Pizza</td>
      <td>Breakfast and lunch</td>
      <td>five</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>Güvenç Attila</td>
      <td>Ice cream</td>
      <td>Lunch only</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Another common task after reading in data is to consider variable types. In the <code class="docutils literal notranslate"><span class="pre">favourite_food</span></code> column, there are a bunch of food items and then the value <code class="docutils literal notranslate"><span class="pre">NaN</span></code>, which has been read in as a floating point number rather than a missing string. We can solve this by casting that column to explicitly be composed of strings:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span><span class="p">[</span><span class="s2">&quot;favourite_food&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s2">&quot;favourite_food&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;string&quot;</span><span class="p">)</span>
<span class="n">students</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>student_id</th>
      <th>full_name</th>
      <th>favourite_food</th>
      <th>meal_plan</th>
      <th>age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Sunil Huffmann</td>
      <td>Strawberry yoghurt</td>
      <td>Lunch only</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Barclay Lynn</td>
      <td>French fries</td>
      <td>Lunch only</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Jayendra Lyne</td>
      <td>&lt;NA&gt;</td>
      <td>Breakfast and lunch</td>
      <td>7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Leon Rossini</td>
      <td>Anchovies</td>
      <td>Lunch only</td>
      <td>8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Chidiegwu Dunkel</td>
      <td>Pizza</td>
      <td>Breakfast and lunch</td>
      <td>five</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>Güvenç Attila</td>
      <td>Ice cream</td>
      <td>Lunch only</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Similarly, <code class="docutils literal notranslate"><span class="pre">&quot;age&quot;</span></code> has mixed data types: string and integer! Let’s map the ‘five’ into the number five.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">students</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;five&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">students</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    4
1    5
2    7
3    8
4    5
5    6
Name: age, dtype: object
</pre></div>
</div>
</div>
</div>
<p>In a moment, we will turn this into a column of integers too.</p>
<p>Another example where the data type is wrong is <code class="docutils literal notranslate"><span class="pre">meal_type</span></code>. This is a categorical variable with a known set of possible values. <strong>pandas</strong> has a special data type for these:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span><span class="p">[</span><span class="s2">&quot;meal_plan&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s2">&quot;meal_plan&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>
<span class="n">students</span><span class="p">[</span><span class="s2">&quot;meal_plan&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0             Lunch only
1             Lunch only
2    Breakfast and lunch
3             Lunch only
4    Breakfast and lunch
5             Lunch only
Name: meal_plan, dtype: category
Categories (2, object): [&#39;Breakfast and lunch&#39;, &#39;Lunch only&#39;]
</pre></div>
</div>
</div>
</div>
<p>Note that the values in the <code class="docutils literal notranslate"><span class="pre">meal_type</span></code> variable has stayed exactly the same, but the type of variable has changed from the object to category.</p>
<p>It is a bit tedious to have to go through columns one-by-one as single line assignments to apply type. An alternative is to pass a dictionary that maps column names into types, like follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="n">astype</span><span class="p">({</span><span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="s2">&quot;full_name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">})</span>
<span class="n">students</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6 entries, 0 to 5
Data columns (total 5 columns):
 #   Column          Non-Null Count  Dtype   
---  ------          --------------  -----   
 0   student_id      6 non-null      int64   
 1   full_name       6 non-null      string  
 2   favourite_food  5 non-null      string  
 3   meal_plan       6 non-null      category
 4   age             6 non-null      int64   
dtypes: category(1), int64(2), string(2)
memory usage: 450.0 bytes
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercises">
<h3><span class="section-number">8.2.3. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>What function would you use to read a file where fields were separated with “|”?</p></li>
</ol>
</div>
</div>
<div class="section" id="reading-data-from-multiple-files">
<h2><span class="section-number">8.3. </span>Reading data from multiple files<a class="headerlink" href="#reading-data-from-multiple-files" title="Permalink to this headline">¶</a></h2>
<p>Sometimes your data is split across multiple files instead of being contained in a single file. For example, you might have sales data for multiple months, with each month’s data in a separate file: <code class="docutils literal notranslate"><span class="pre">01-sales.csv</span></code> for January, <code class="docutils literal notranslate"><span class="pre">02-sales.csv</span></code> for February, and <code class="docutils literal notranslate"><span class="pre">03-sales.csv</span></code> for March.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> you can read these data in one-by-one and then stack them on top of each other in a single data frame using the <code class="docutils literal notranslate"><span class="pre">pd.concat</span></code> function. This looks like:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">list_of_dataframes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;data/01-sales.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;data/02-sales.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;data/03-sales.csv&quot;</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">sales_files</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">list_of_dataframes</span><span class="p">)</span>
<span class="n">sales_files</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>month</th>
      <th>year</th>
      <th>brand</th>
      <th>item</th>
      <th>n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>8721</td>
      <td>9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>1822</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3333</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>2156</td>
      <td>9</td>
    </tr>
    <tr>
      <th>5</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3987</td>
      <td>6</td>
    </tr>
    <tr>
      <th>6</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3827</td>
      <td>6</td>
    </tr>
    <tr>
      <th>0</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>8</td>
    </tr>
    <tr>
      <th>1</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>8721</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>1822</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>3333</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>2156</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>3987</td>
      <td>6</td>
    </tr>
    <tr>
      <th>0</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>3627</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>8820</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>7253</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>8766</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>8288</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If you have many files you want to read in, it can get cumbersome to write out their names as a list. Instead, you can use the <strong>glob</strong> package (which is built in to Python) to find the files for you by matching a pattern in the file names. Note that there may be other CSV files in the directory data/, so here we specified <code class="docutils literal notranslate"><span class="pre">&quot;*-sales.csv&quot;</span></code> to ensure we only get those files that include the word sales. Here, <code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code> plays the role of a wildcard: it represents any series of characters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">glob</span>

<span class="n">list_of_csvs</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;data/*-sales.csv&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;List of csvs is:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_of_csvs</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">sales_files</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">list_of_csvs</span><span class="p">])</span>
<span class="n">sales_files</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>List of csvs is:
[&#39;data/03-sales.csv&#39;, &#39;data/02-sales.csv&#39;, &#39;data/01-sales.csv&#39;] 
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>month</th>
      <th>year</th>
      <th>brand</th>
      <th>item</th>
      <th>n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>3627</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>8820</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>7253</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>8766</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>8288</td>
      <td>6</td>
    </tr>
    <tr>
      <th>0</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>8</td>
    </tr>
    <tr>
      <th>1</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>8721</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>1822</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>3333</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>2156</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>3987</td>
      <td>6</td>
    </tr>
    <tr>
      <th>0</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>8721</td>
      <td>9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>1822</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3333</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>2156</td>
      <td>9</td>
    </tr>
    <tr>
      <th>5</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3987</td>
      <td>6</td>
    </tr>
    <tr>
      <th>6</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3827</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="writing-to-a-file">
<h2><span class="section-number">8.4. </span>Writing to a file<a class="headerlink" href="#writing-to-a-file" title="Permalink to this headline">¶</a></h2>
<p>Just as the typical pattern for reading files is <code class="docutils literal notranslate"><span class="pre">pd.read_FILETYPE</span></code>, where filetype can be, for example, CSV, all of the ways of writing <strong>pandas</strong> data frames to disk have the pattern <code class="docutils literal notranslate"><span class="pre">DATAFRAME.to_FILETYPE</span></code>. So to write our sales data to a CSV file, the code will be <code class="docutils literal notranslate"><span class="pre">sales_files.to_csv(FILEPATH)</span></code>, where filepath is the location plus name of the file you want to write to.</p>
<p>Let’s see an example of writing data to file using our students data that we already did such good work on setting the data types for:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;data/students-clean.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s read it back in and check the info on data types:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/students-clean.csv&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6 entries, 0 to 5
Data columns (total 6 columns):
 #   Column          Non-Null Count  Dtype 
---  ------          --------------  ----- 
 0   Unnamed: 0      6 non-null      int64 
 1   student_id      6 non-null      int64 
 2   full_name       6 non-null      object
 3   favourite_food  5 non-null      object
 4   meal_plan       6 non-null      object
 5   age             6 non-null      int64 
dtypes: int64(3), object(3)
memory usage: 416.0+ bytes
</pre></div>
</div>
</div>
</div>
<p>Notice anything? We lost a lot of the nice data type work we did! While <strong>pandas</strong> guessed that some columns are integers, we lost the string and categorical variables. The reason for this is that plain text files are not able to carry any contextual information (though <strong>pandas</strong> will guess some column data types).</p>
<p>If you want to save data in a file and have it remember the data types, you’ll need to use a different data format. For temporary storage, we recommend using the <em>feather</em> format as it is very fast and interoperable with other programming languages. Interoperability is a good reason to avoid language-specific file formats such as Stata’s .dta, R’s .rds, and Python’s .pickle.</p>
<p>Note that the feather format has an additional dependency in the form of a package called <strong>pyarrow</strong>. To install it, run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pyarrow</span></code> in a terminal window.</p>
<p>Here’s an example of writing to a feather file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span><span class="o">.</span><span class="n">to_feather</span><span class="p">(</span><span class="s2">&quot;data/students-clean.feather&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s re-open that feather file and take a look at the info attached to it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_feather</span><span class="p">(</span><span class="s2">&quot;data/students-clean.feather&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6 entries, 0 to 5
Data columns (total 5 columns):
 #   Column          Non-Null Count  Dtype   
---  ------          --------------  -----   
 0   student_id      6 non-null      int64   
 1   full_name       6 non-null      string  
 2   favourite_food  5 non-null      string  
 3   meal_plan       6 non-null      category
 4   age             6 non-null      int64   
dtypes: category(1), int64(2), string(2)
memory usage: 450.0 bytes
</pre></div>
</div>
</div>
</div>
<p>Saving to this format preserved our data type information.</p>
<div class="section" id="reading-and-writing-other-data-formats">
<h3><span class="section-number">8.4.1. </span>Reading and Writing Other Data Formats<a class="headerlink" href="#reading-and-writing-other-data-formats" title="Permalink to this headline">¶</a></h3>
<p>The image at the start of this chapter gives you a sense of what other formats are available but you can find a comprehensive list over at the <a class="reference external" href="https://pandas.pydata.org/docs/user_guide/io.html">official <strong>pandas</strong> documentation on input and output</a>.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="workflow-writing-code.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">7. </span>Workflow: Writing Code</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="workflow-help.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">9. </span>Postscript: Getting Further Help</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By The Py4DS Community<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>